<?xml version='1.0' encoding='UTF-8' ?> 
<!--
Book:  Java EE7 Recipes
Author: J. Juneau
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet library="css" name="default.css"/>
        <h:outputStylesheet library="css" name="cssLayout.css"/>
        <h:outputStylesheet library="css" name="styles.css"/>
        <title>Introducing Java EE 7</title>

        <script type="text/javascript">
            function acmeChatRelay()
            {
                alert("working");
                if ("WebSocket" in window)
                {
                    alert("WebSocket is supported by your Browser!");
                    // Let us open a web socket
                    var ws = new WebSocket("ws://localhost:8080/IntroToJavaEE7/acmechat");
                    ws.onopen = function()
                    {
                        // Web Socket is connected, send data using send()
                        ws.send("Message to send");
                        alert("Message is sent...");
                    };
                    ws.onmessage = function(evt)
                    {
                        var received_msg = evt.data;
                        alert("Message from server: " + received_msg);
                    };
                    ws.onclose = function()
                    {
                        // websocket is closed.
                        alert("Connection is closed...");
                    };
                }
                else
                {
                    // The browser doesn't support WebSocket
                    alert("WebSocket NOT supported by your Browser!");
                }
            }
        </script>
    </h:head>

    <h:body>

        <div id="top">
            <h2>Introducing Java EE 7</h2>
        </div>
        <div>
            <div id="left">
                <h:form id="navForm">
                    <h:outputLink  value="/IntroToJavaEE7/faces/chapter01/index.xhtml" >Chapter 1</h:outputLink>
                    <br/><br/>
                    <h:outputLink value="/IntroToJavaEE7/faces/chapter02/index.xhtml">Chapter 2</h:outputLink>
                    <br/><br/>
                    <h:outputLink value="/IntroToJavaEE7/faces/chapter03/index.xhtml">Chapter 3</h:outputLink>
                    <br/><br/>
                    <h:outputLink value="/IntroToJavaEE7/faces/chapter04/index.xhtml">Chapter 4</h:outputLink>
                    <br/><br/>
                    <h:outputLink value="/IntroToJavaEE7/faces/chapter05/index.xhtml">Chapter 5</h:outputLink>
                    <br/><br/>
                    <h:outputLink value="/IntroToJavaEE7/faces/chapter06/index.xhtml">Chapter 6</h:outputLink>
                    <br/><br/>
                    <h:outputLink value="/IntroToJavaEE7/faces/chapter07/index.xhtml">Chapter 7</h:outputLink>
                    <br/><br/>
                    <h:outputLink value="/IntroToJavaEE7/faces/chapter08/index.xhtml">Chapter 8</h:outputLink>
                    <br/><br/>
                    <h:outputLink value="/IntroToJavaEE7/faces/chapter09/index.xhtml">Chapter 9</h:outputLink>
                    <br/><br/>
                    <h:outputLink value="/IntroToJavaEE7/faces/chapter10/index.xhtml">Chapter 10</h:outputLink>
                    <br/><br/>
                    <h:outputLink value="/IntroToJavaEE7/faces/chapter11/index.xhtml">Chapter 11</h:outputLink>
                    <br/><br/>
                    <h:outputLink  value="" >Acme Bookstore (Demo Coming Soon)</h:outputLink>
                </h:form>
            </div>
            <div id="content" class="left_content">
                <ui:insert name="content">Content</ui:insert>
            </div>
        </div>
        <div id="bottom">
            Written by Josh Juneau, Apress Author
        </div>

    </h:body>

</html>
